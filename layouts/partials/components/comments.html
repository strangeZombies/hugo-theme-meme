{{ if and (.Params.comments | default .Site.Params.enableComments) (eq hugo.Environment "production") }}
    {{ if or (in .Site.Params.mainSections .Section) .Params.comments }}
        {{ if not .Site.Params.autoLoadComments }}
            <div class="load-comments">
                <div id="load-comments">{{ i18n "loadComments" }}</div>
            </div>
        {{  end }}

        {{ if .Site.Params.enableWaline }}
            <div id="waline"></div>
            <script type="module">
                import { init } from 'https://cdn.bootcdn.net/ajax/libs/waline/2.15.7/waline.min.js'; 
                const locale = {
                  nick : '昵称',
                  placeholder: '欢迎留爪',
                  sofa: '空空空~',
                  comment: 'thoughts or moods',
                  more: '还有~',
                  emoji: 'emoji',
                  admin: '爱摸鱼的修理工',
                  level0: '潜水',
                  level1: '冒泡',
                  level2: '吐槽',
                  level3: '活跃',
                  level4: '话唠',
                  level5: '传说',
                };
            
                init({
                  el: '#waline',
                  serverURL: '{{ .Site.Params.walineServer }}',
                  locale,
                  texRenderer: false,
                });
              </script>
        {{ end }}

        {{ if .Site.Params.enableDisqus }}
            <div id="disqus_thread"></div>
        {{ end }}

        {{ if .Site.Params.enableValine }}
            <div id="vcomments"></div>
        {{ end }}

        {{ if .Site.Params.enableUtterances }}
            <div id="utterances"></div>
        {{ end }}

        {{ if .Site.Params.enableGitalk }}
            <div id="gitalk-container"></div>
        {{ end }}
    {{ end }}
{{ end }}
